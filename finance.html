<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finansal Tahmin Motoru - E-≈ûantiye</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px 0;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }

        .header h1 {
            font-size: 2.5rem;
        }

        .back-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            text-decoration: none;
            display: inline-block;
        }

        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            color: #333;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .stat-card.income::before { background: #2ecc71; }
        .stat-card.expense::before { background: #e74c3c; }
        .stat-card.profit::before { background: #3498db; }
        .stat-card.forecast::before { background: #f39c12; }

        .stat-card h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .trend {
            font-size: 0.9rem;
            padding: 3px 8px;
            border-radius: 12px;
            display: inline-block;
            margin-left: 5px;
        }

        .trend.positive {
            background: #e8f5e8;
            color: #2ecc71;
        }

        .trend.negative {
            background: #f8d7da;
            color: #e74c3c;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .financial-form {
            background: white;
            color: #333;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
        }

        .btn:hover {
            background: #764ba2;
        }

        .btn-success {
            background: #2ecc71;
        }

        .btn-warning {
            background: #f39c12;
        }

        .btn-danger {
            background: #e74c3c;
        }

        .btn-info {
            background: #3498db;
        }

        .prediction-engine {
            background: white;
            color: #333;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .ai-prediction {
            background: #e8f4fd;
            border: 1px solid #3498db;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .simulation-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }

        .simulation-result {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }

        .risk-indicator {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            margin: 2px;
        }

        .risk-low { background: #e8f5e8; color: #2ecc71; }
        .risk-medium { background: #fff3cd; color: #f39c12; }
        .risk-high { background: #f8d7da; color: #e74c3c; }

        .chart-container {
            background: white;
            color: #333;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            grid-column: 1 / -1;
            margin-bottom: 30px;
        }

        .transactions-table {
            background: white;
            color: #333;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            grid-column: 1 / -1;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        tr:hover {
            background: #f9f9f9;
        }

        .income-row {
            border-left: 4px solid #2ecc71;
        }

        .expense-row {
            border-left: 4px solid #e74c3c;
        }

        .currency {
            font-weight: bold;
        }

        .try { color: #e74c3c; }
        .usd { color: #3498db; }
        .eur { color: #2ecc71; }

        .forecast-alert {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            border-left: 4px solid #f39c12;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            color: #333;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí∞ Finansal Tahmin Motoru</h1>
            <a href="index.html" class="back-btn">‚Üê Ana Sayfa</a>
        </div>

        <!-- ƒ∞statistik Kartlarƒ± -->
        <div class="dashboard-cards">
            <div class="stat-card income">
                <h3>Toplam Gelir</h3>
                <div class="stat-number">‚Ç∫1,845,250</div>
                <div class="stat-label">
                    Bu ay: +‚Ç∫245,000
                    <span class="trend positive">+15.3%</span>
                </div>
            </div>
            
            <div class="stat-card expense">
                <h3>Toplam Gider</h3>
                <div class="stat-number">‚Ç∫1,523,180</div>
                <div class="stat-label">
                    Bu ay: -‚Ç∫189,500
                    <span class="trend negative">+12.1%</span>
                </div>
            </div>
            
            <div class="stat-card profit">
                <h3>Net K√¢r</h3>
                <div class="stat-number">‚Ç∫322,070</div>
                <div class="stat-label">
                    K√¢r Marjƒ±: %17.5
                    <span class="trend positive">+3.2%</span>
                </div>
            </div>
            
            <div class="stat-card forecast">
                <h3>AI Tahmini</h3>
                <div class="stat-number">‚Ç∫415,000</div>
                <div class="stat-label">
                    √ñn√ºm√ºzdeki Ay
                    <span class="trend positive">+28.8%</span>
                </div>
            </div>
        </div>

        <div class="content-grid">
            <!-- ƒ∞≈ülem Ekleme Formu -->
            <div class="financial-form">
                <h2>üÜï Yeni ƒ∞≈ülem Ekle</h2>
                <form id="transactionForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="transactionType">ƒ∞≈ülem T√ºr√º</label>
                            <select id="transactionType" required onchange="toggleForecastSuggestion()">
                                <option value="income">üìà Gelir</option>
                                <option value="expense">üìâ Gider</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="transactionAmount">Tutar</label>
                            <input type="number" id="transactionAmount" step="0.01" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="transactionCurrency">Para Birimi</label>
                            <select id="transactionCurrency">
                                <option value="try">üáπüá∑ TL (‚Ç∫)</option>
                                <option value="usd">üá∫üá∏ USD ($)</option>
                                <option value="eur">üá™üá∫ EUR (‚Ç¨)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="transactionCategory">Kategori</label>
                            <select id="transactionCategory">
                                <option value="malzeme">üõ†Ô∏è Malzeme Alƒ±mƒ±</option>
                                <option value="i≈ü√ßilik">üë• ƒ∞≈ü√ßilik</option>
                                <option value="kira">üè¢ Kira</option>
                                <option value="donanƒ±m">üöú Donanƒ±m</option>
                                <option value="hakedi≈ü">üìã Hakedi≈ü</option>
                                <option value="avans">üí≥ Avans</option>
                                <option value="diƒüer">üì¶ Diƒüer</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="transactionDescription">A√ßƒ±klama</label>
                        <input type="text" id="transactionDescription" required placeholder="√ñrn: Merkez Ofis 2. Hakedi≈ü">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="transactionDate">Tarih</label>
                            <input type="date" id="transactionDate" required>
                        </div>
                        <div class="form-group">
                            <label for="transactionProject">Proje</label>
                            <select id="transactionProject">
                                <option value="">Proje Se√ßin</option>
                                <option value="merkez-ofis">Merkez Ofis ƒ∞n≈üaatƒ±</option>
                                <option value="rezidans">Rezidans Projesi</option>
                                <option value="avm">AVM ƒ∞n≈üaatƒ±</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" class="btn">üíæ ƒ∞≈ülemi Kaydet</button>
                    <button type="button" class="btn btn-info" onclick="showAIForecast()">
                        ü§ñ AI Tahmini Al
                    </button>
                </form>

                <!-- AI √ñneri Paneli -->
                <div class="ai-prediction" id="forecastSuggestion" style="display: none;">
                    <h4>ü§ñ AI Finansal √ñneri</h4>
                    <p><strong>Bu i≈ülem i√ßin tahmin:</strong></p>
                    <p id="forecastText">Tahmin y√ºkleniyor...</p>
                    <div id="riskAssessment"></div>
                </div>

                <!-- D√∂viz Bilgisi -->
                <div class="ai-prediction">
                    <h4>üí± Anlƒ±k D√∂viz Kurlarƒ±</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>USD/TRY</label>
                            <input type="text" value="32.45" readonly style="background: #f8f9fa;">
                        </div>
                        <div class="form-group">
                            <label>EUR/TRY</label>
                            <input type="text" value="35.12" readonly style="background: #f8f9fa;">
                        </div>
                    </div>
                    <small>Son g√ºncelleme: 5 dakika √∂nce</small>
                </div>
            </div>

            <!-- Tahmin Motoru -->
            <div class="prediction-engine">
                <h2>üîÆ Finansal Sim√ºlasyon</h2>
                
                <div class="form-group">
                    <label for="simulationPeriod">Sim√ºlasyon Periyodu</label>
                    <select id="simulationPeriod">
                        <option value="1">1 Ay</option>
                        <option value="3" selected>3 Ay</option>
                        <option value="6">6 Ay</option>
                        <option value="12">1 Yƒ±l</option>
                    </select>
                </div>

                <div class="simulation-controls">
                    <div class="form-group">
                        <label for="usdForecast">USD/TL Tahmini</label>
                        <input type="number" id="usdForecast" value="33.50" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="inflationRate">Enflasyon Tahmini (%)</label>
                        <input type="number" id="inflationRate" value="4.5" step="0.1">
                    </div>
                </div>

                <div class="form-group">
                    <label for="riskScenario">Risk Senaryosu</label>
                    <select id="riskScenario">
                        <option value="optimistic">üòä ƒ∞yimser</option>
                        <option value="realistic" selected>üòê Ger√ßek√ßi</option>
                        <option value="pessimistic">üòü K√∂t√ºmser</option>
                    </select>
                </div>

                <button class="btn btn-success" onclick="runFinancialSimulation()">
                    üöÄ Sim√ºlasyonu √áalƒ±≈ütƒ±r
                </button>

                <div class="simulation-result">
                    <h4>üìà Sim√ºlasyon Sonu√ßlarƒ±</h4>
                    <div id="simulationResults">
                        <p>Sim√ºlasyon sonu√ßlarƒ± burada g√∂r√ºnecek...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Finans Grafiƒüi -->
        <div class="chart-container">
            <h2>üìä Finansal Performans</h2>
            <canvas id="financeChart" width="400" height="200"></canvas>
        </div>

        <!-- ƒ∞≈ülem Ge√ßmi≈üi -->
        <div class="transactions-table">
            <div style="padding: 20px; display: flex; justify-content: space-between; align-items: center;">
                <h2>üìã ƒ∞≈ülem Ge√ßmi≈üi</h2>
                <button class="btn btn-info" onclick="generateAdvancedReport()">üìä Detaylƒ± Rapor</button>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Tarih</th>
                        <th>A√ßƒ±klama</th>
                        <th>Kategori</th>
                        <th>Tutar</th>
                        <th>Para Birimi</th>
                        <th>Proje</th>
                        <th>Durum</th>
                        <th>ƒ∞≈ülemler</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="income-row">
                        <td>15.11.2024</td>
                        <td>Merkez Ofis 2. Hakedi≈ü</td>
                        <td>Hakedi≈ü</td>
                        <td class="currency try">‚Ç∫245,000</td>
                        <td>TRY</td>
                        <td>Merkez Ofis</td>
                        <td><span style="color: #2ecc71;">√ñdendi</span></td>
                        <td>
                            <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è</button>
                            <button class="btn btn-info" style="padding: 5px 10px; font-size: 0.8rem;">üìã</button>
                        </td>
                    </tr>
                    <tr class="expense-row">
                        <td>14.11.2024</td>
                        <td>√áimento Tedariki</td>
                        <td>Malzeme</td>
                        <td class="currency try">‚Ç∫45,250</td>
                        <td>TRY</td>
                        <td>Rezidans</td>
                        <td><span style="color: #e74c3c;">√ñdenecek</span></td>
                        <td>
                            <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è</button>
                            <button class="btn btn-danger" style="padding: 5px 10px; font-size: 0.8rem;">üóëÔ∏è</button>
                        </td>
                    </tr>
                    <tr class="expense-row">
                        <td>12.11.2024</td>
                        <td>ƒ∞≈ü√ßilik √ñdemesi</td>
                        <td>ƒ∞≈ü√ßilik</td>
                        <td class="currency try">‚Ç∫89,500</td>
                        <td>TRY</td>
                        <td>Merkez Ofis</td>
                        <td><span style="color: #2ecc71;">√ñdendi</span></td>
                        <td>
                            <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è</button>
                            <button class="btn btn-info" style="padding: 5px 10px; font-size: 0.8rem;">üìã</button>
                        </td>
                    </tr>
                    <tr class="income-row">
                        <td>10.11.2024</td>
                        <td>AVM Proje Avansƒ±</td>
                        <td>Avans</td>
                        <td class="currency usd">$25,000</td>
                        <td>USD</td>
                        <td>AVM ƒ∞n≈üaatƒ±</td>
                        <td><span style="color: #2ecc71;">Alƒ±ndƒ±</span></td>
                        <td>
                            <button class="btn" style="padding: 5px 10px; font-size: 0.8rem;">‚úèÔ∏è</button>
                            <button class="btn btn-info" style="padding: 5px 10px; font-size: 0.8rem;">üìã</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Form submit i≈ülemi
        document.getElementById('transactionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const amount = document.getElementById('transactionAmount').value;
            const type = document.getElementById('transactionType').value;
            const description = document.getElementById('transactionDescription').value;
            const category = document.getElementById('transactionCategory').value;
            
            const typeText = type === 'income' ? 'Gelir' : 'Gider';
            
            alert(`‚úÖ ƒ∞≈ülem kaydedildi!\n\nT√ºr: ${typeText}\nTutar: ‚Ç∫${amount}\nA√ßƒ±klama: ${description}\nKategori: ${category}`);
            
            this.reset();
            document.getElementById('transactionDate').valueAsDate = new Date();
        });

        function toggleForecastSuggestion() {
            document.getElementById('forecastSuggestion').style.display = 'none';
        }

        function showAIForecast() {
            const amount = document.getElementById('transactionAmount').value;
            const type = document.getElementById('transactionType').value;
            
            if (!amount) {
                alert('L√ºtfen √∂nce tutar girin!');
                return;
            }
            
            const forecasts = {
                income: [
                    "Bu gelir nakit akƒ±≈üƒ±nƒ±zƒ± iyile≈ütirecek",
                    "Benzer gelirler √∂n√ºm√ºzdeki ay %10 artabilir",
                    "Bu tutar 3 projenin finansmanƒ±na yetebilir"
                ],
                expense: [
                    "Bu gider b√ºt√ßenizin %5'ini olu≈üturuyor",
                    "Tedarik√ßi ile fiyat g√∂r√º≈ümesi yapabilirsiniz",
                    "Alternatif tedarik√ßilerle %8 tasarruf m√ºmk√ºn"
                ]
            };
            
            const randomForecast = forecasts[type][Math.floor(Math.random() * forecasts[type].length)];
            
            document.getElementById('forecastText').textContent = randomForecast;
            document.getElementById('forecastSuggestion').style.display = 'block';
            
            const riskHTML = type === 'expense' && amount > 50000 ? 
                '<div class="risk-indicator risk-medium">Orta Risk - B√ºy√ºk gider</div>' :
                '<div class="risk-indicator risk-low">D√º≈ü√ºk Risk</div>';
            
            document.getElementById('riskAssessment').innerHTML = riskHTML;
        }

        function runFinancialSimulation() {
            const period = document.getElementById('simulationPeriod').value;
            const usdRate = document.getElementById('usdForecast').value;
            const inflation = document.getElementById('inflationRate').value;
            const scenario = document.getElementById('riskScenario').value;
            
            const results = {
                '1': { profit: '+12%', risk: 'D√º≈ü√ºk' },
                '3': { profit: '+28%', risk: 'Orta' },
                '6': { profit: '+45%', risk: 'Y√ºksek' },
                '12': { profit: '+92%', risk: 'Y√ºksek' }
            };
            
            const result = results[period];
            
            document.getElementById('simulationResults').innerHTML = `
                <p><strong>${period} Ay Tahmini:</strong></p>
                <p>‚Ä¢ Beklenen K√¢r Artƒ±≈üƒ±: ${result.profit}</p>
                <p>‚Ä¢ Risk Seviyesi: ${result.risk}</p>
                <p>‚Ä¢ USD/TL: ${usdRate}</p>
                <p>‚Ä¢ Enflasyon Etkisi: %${inflation}</p>
                <p>‚Ä¢ Senaryo: ${scenario}</p>
            `;
        }

        function generateAdvancedReport() {
            const reportData = {
                date: new Date().toLocaleString(),
                financialSummary: {
                    totalIncome: '‚Ç∫1,845,250',
                    totalExpense: '‚Ç∫1,523,180', 
                    netProfit: '‚Ç∫322,070',
                    profitMargin: '%17.5'
                },
                recommendations: [
                    'D√∂viz riskine kar≈üƒ± korunma √∂nerilir',
                    'Stok maliyetleri %15 d√º≈ü√ºr√ºlebilir',
                    '√ñn√ºm√ºzdeki √ßeyrek i√ßin %15 b√ºy√ºme bekleniyor'
                ],
                risks: [
                    'D√∂viz kuru dalgalanmasƒ±',
                    'Mevsimsel yaƒüƒ±≈ülar',
                    'Tedarik zinciri gecikmeleri'
                ]
            };
            
            const reportWindow = window.open('', '_blank');
            reportWindow.document.write(`
                <html>
                    <head>
                        <title>E-≈ûantiye Detaylƒ± Finansal Rapor</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 40px; }
                            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; }
                            .section { margin: 30px 0; }
                            .recommendation { background: #e8f5e8; padding: 10px; margin: 5px 0; border-radius: 5px; }
                            .risk { background: #f8d7da; padding: 10px; margin: 5px 0; border-radius: 5px; }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>üèóÔ∏è E-≈ûantiye Finansal Rapor</h1>
                            <p>Olu≈üturulma: ${reportData.date}</p>
                        </div>
                        
                        <div class="section">
                            <h2>üí∞ Finansal √ñzet</h2>
                            <p><strong>Toplam Gelir:</strong> ${reportData.financialSummary.totalIncome}</p>
                            <p><strong>Toplam Gider:</strong> ${reportData.financialSummary.totalExpense}</p>
                            <p><strong>Net K√¢r:</strong> ${reportData.financialSummary.netProfit}</p>
                            <p><strong>K√¢r Marjƒ±:</strong> ${reportData.financialSummary.profitMargin}</p>
                        </div>
                        
                        <div class="section">
                            <h2>üí° √ñneriler</h2>
                            ${reportData.recommendations.map(rec => `<div class="recommendation">${rec}</div>`).join('')}
                        </div>
                        
                        <div class="section">
                            <h2>‚ö†Ô∏è Riskler</h2>
                            ${reportData.risks.map(risk => `<div class="risk">${risk}</div>`).join('')}
                        </div>
                        
                        <div style="margin-top: 40px; text-align: center; color: #666;">
                            <p>Bu rapor AI destekli E-≈ûantiye sistemi tarafƒ±ndan otomatik olu≈üturulmu≈ütur.</p>
                        </div>
                    </body>
                </html>
            `);
            reportWindow.document.close();
        }

        // Grafik olu≈üturma
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('financeChart').getContext('2d');
            const financeChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Oca', '≈ûub', 'Mar', 'Nis', 'May', 'Haz'],
                    datasets: [
                        {
                            label: 'Gelir',
                            data: [1200000, 1350000, 1420000, 1580000, 1650000, 1845250],
                            backgroundColor: '#2ecc71',
                            borderColor: '#27ae60',
                            borderWidth: 1
                        },
                        {
                            label: 'Gider',
                            data: [980000, 1050000, 1120000, 1250000, 1380000, 1523180],
                            backgroundColor: '#e74c3c',
                            borderColor: '#c0392b',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '‚Ç∫' + (value / 1000000).toFixed(1) + 'M';
                                }
                            }
                        }
                    }
                }
            });
        });

        // Otomatik yedekleme
        function autoSave() {
            const timestamp = new Date().toLocaleString();
            console.log(`‚úÖ Finans verileri yedeklendi: ${timestamp}`);
            localStorage.setItem('lastBackup', JSON.stringify({
                timestamp: timestamp,
                page: 'finance'
            }));
        }
        setInterval(autoSave, 120000);
        window.addEventListener('beforeunload', autoSave);

        // Sayfa y√ºklendiƒüinde tarihi bug√ºn yap
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('transactionDate').valueAsDate = new Date();
            console.log('üí∞ Finansal Tahmin Motoru y√ºklendi');
        });
    </script>
</body>
</html>
